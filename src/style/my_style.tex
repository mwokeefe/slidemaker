% Include commonly used packages
\usepackage{braket}
\usepackage{listings}
\usepackage{tabto}
\usepackage{tikz}
\usepackage{booktabs}

% Define colours
\definecolor{cobalt}{rgb}{0.0, 0.28, 0.67}
\definecolor{darkblue}{rgb}{0.0, 0.0, 0.55}
\definecolor{davygrey}{rgb}{0.33, 0.33, 0.33}
\definecolor{trolleygrey}{rgb}{0.5, 0.5, 0.5}
\definecolor{steelblue}{rgb}{0.27, 0.51, 0.71}
\definecolor{rayred}{rgb}{0.90196,0.07059,0.19216}

% Set list text size/colours
\setbeamertemplate{itemize/enumerate body begin}{}
\setbeamertemplate{itemize/enumerate subbody begin}{\scriptsize}
\setbeamertemplate{itemize/enumerate subsubbody begin}{\fontsize{8}{11}\selectfont}
\setbeamercolor{itemize/enumerate body}{fg=black}
\setbeamercolor{itemize/enumerate subbody}{fg=trolleygrey}
\setbeamercolor{itemize/enumerate subsubbody}{fg=trolleygrey}

% Set list bullet colours
\setbeamertemplate{itemize item}[image]
\setbeamertemplate{itemize subitem}[image]
\setbeamertemplate{itemize subsubitem}[image]

% Change the colours of the background theme
%\setbeamercolor*{structure}{bg=cobalt!20,fg=cobalt}
\setbeamercolor*{structure}{bg=rayred,fg=white}
\setbeamercolor*{palette primary}{use=structure,fg=white,bg=structure.bg}
\setbeamercolor*{palette secondary}{use=structure,fg=white,bg=structure.bg}
\setbeamercolor*{palette tertiary}{use=structure,fg=white,bg=structure.bg}
\setbeamercolor*{palette quaternary}{fg=white,bg=black}
\setbeamercolor{section in toc}{fg=black,bg=white}
\setbeamercolor{alerted text}{use=structure,fg=structure.fg!50!black!80!black}
\setbeamercolor{titlelike}{parent=palette primary,fg=structure.fg!50!black}

% Frame title style
\setbeamertemplate{frametitle}{
    \color{black}\bfseries\insertframetitle
}
\setbeamercolor{frametitle}{bg=white,fg=black}
\setbeamercolor*{titlelike}{parent=palette primary}

% Add uni/ATLAS logo
\titlegraphic{
    \includegraphics[width=\textwidth,height=0.5\textwidth]{style/raytheon_tech.png}
}

% Remove section number from section title pages
\setbeamertemplate{section page}
{
    \begin{centering}
    \begin{beamercolorbox}[sep=12pt,center]{part title}
    \usebeamerfont{section title}\insertsection\par
    \end{beamercolorbox}
    \end{centering}
}

% Customise footline (same can be done for headline)
\setbeamercolor{footlinecolor}{fg=white,bg=white}
\makeatother
\setbeamertemplate{footline}
{
    \ifnum \theframenumber=1
        \leavevmode%
        \hbox{%
            \begin{beamercolorbox}[wd=.3333\paperwidth,ht=2.25ex,dp=1ex,left]{footlinecolor}
                \hspace{2ex}
                \usebeamerfont{title in head/foot}{\color{trolleygrey}\tiny \scalebox{0.6}{
                     \begin{tabular}{@{}c@{}}
                        \copyright 2022 Raytheon Technologies Corporation \\ All rights reserved.
                     \end{tabular}
                }}
            \end{beamercolorbox}%
            \begin{beamercolorbox}[wd=.3333\paperwidth,ht=2.25ex,dp=1ex,center]{footlinecolor}
                \usebeamerfont{title in head/foot}{\color{trolleygrey}\tiny \scalebox{0.6}{
                     \begin{tabular}{@{}c@{}}
                    WARNING: Undetermined Jurisdiction Classification - Export Prohibited\\ Unrestricted Content
                     \end{tabular}
                }}
            \end{beamercolorbox}%
            \begin{beamercolorbox}[wd=.3333\paperwidth,ht=2.25ex,dp=1ex,right]{footlinecolor}
            \end{beamercolorbox}}%
        \vskip0pt%

    \else
        \leavevmode%
        \hbox{%
            \begin{beamercolorbox}[wd=.3333\paperwidth,ht=2.25ex,dp=1ex,left]{footlinecolor}
                \hspace{2ex}
                \includegraphics[width=0.2\textwidth,height=0.1\textwidth]{style/raytheon.png}
            \end{beamercolorbox}%
            \begin{beamercolorbox}[wd=.3333\paperwidth,ht=2.25ex,dp=1ex,center]{footlinecolor}
                \usebeamerfont{title in head/foot}{\color{trolleygrey}\tiny \scalebox{0.6}{
                     \begin{tabular}{@{}c@{}}
                    WARNING: Undetermined Jurisdiction Classification - Export Prohibited\\ Unrestricted Content
                     \end{tabular}
                }}
            \end{beamercolorbox}%
            \begin{beamercolorbox}[wd=.3333\paperwidth,ht=2.25ex,dp=1ex,right]{footlinecolor}
                {\color{trolleygrey} \insertframenumber{} / \inserttotalframenumber\hspace*{1ex}}
            \end{beamercolorbox}}%
        \vskip0pt%
    \fi
}
\makeatletter

% Turn off coloured bar at the top
%\setbeamertemplate{headline}{}

% Customise titlepage
\defbeamertemplate*{title page}{customized}[1][]
{

    \begin{columns}
        \begin{column}{0.5\textwidth}
            \centering
            \usebeamercolor[fg]{titlegraphic}\inserttitlegraphic
        \end{column}
        \begin{column}{0.5\textwidth}
            \usebeamerfont{title}\textbf\inserttitle\par
            \usebeamerfont{subtitle}\usebeamercolor[fg]{subtitle}\insertsubtitle\par
            \bigskip
            \usebeamerfont{author}\insertauthor\par
            \usebeamerfont{date}\insertdate\par
        \end{column}
    \end{columns}
}
